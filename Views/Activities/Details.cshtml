@model EventPlannerPro.Models.Activity
@{
    ViewData["Title"] = "Activity Details";
    Layout = "_Layout";
    bool canEdit = (ViewBag.CanEdit as bool?) == true;
}


<main class="container-fixed">
    <div class="card-custom mx-auto" style="max-width:800px;">
        
        <h2 class="card-header">@Model.Title</h2>
        @if (!string.IsNullOrEmpty(Model.PhotoUrl))
        {
            <img src="@Model.PhotoUrl" class="card-img-top" style="object-fit:cover; height:350px;" alt="@Model.Title" />
        }
        <div class="card-body">
            <p>@Model.Description</p>
            <p><strong>Град:</strong> @Model.City?.Name</p>
            <p><strong>Категория:</strong> @Model.Category?.Name</p>
            <p><strong>Капацитет:</strong> @Model.Participants.Count / @Model.Capacity</p>
            <p><strong>Дата:</strong> @Model.StartTime.ToString("dd MMM yyyy HH:mm")</p>
        </div>
        @if (canEdit)
        {
            <div class="card-footer text-center">

                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn-custom">Редактирай</a>
                <form asp-action="Delete" asp-route-id="@Model.Id" method="post" class="d-inline">
                    <button type="submit" class="btn-custom" onclick="return confirm('Наистина ли желаете да изтриете тази дейност?');">Изтрий</button>
                </form>

            </div>
        }

    </div>
</main>
