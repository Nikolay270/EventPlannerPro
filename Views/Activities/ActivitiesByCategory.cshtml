@model IEnumerable<EventPlannerPro.Models.Activity>
@{
    ViewData["Title"] = ViewBag.PageTitle as string ?? "Activities";
    Layout = "_Layout";
}

<main class="container-fixed">
    <h2 class="mb-4">@ViewData["Title"]</h2>

    @if (!Model.Any())
    {
        <p class="text-muted">Няма намерени дейности в тази категория.</p>
    }
    else
    {
        <div class="activity-grid">
            @foreach (var activity in Model)
            {
                <div class="activity-card">
                    @if (!string.IsNullOrEmpty(activity.PhotoUrl))
                    {
                        <img src="@activity.PhotoUrl" alt="@activity.Title" />
                    }
                    <div class="activity-card-body">
                        <h5>@activity.Title</h5>
                        <p>@(activity.Description?.Length > 100 ? activity.Description.Substring(0, 100) + "..." : activity.Description)</p>
                        <small>
                            <strong>Град:</strong> @activity.City?.Name<br />
                            <strong>Дата:</strong> @activity.StartTime.ToString("dd MMM yyyy")
                        </small>
                    </div>
                    <div class="activity-card-footer">
                        <a asp-action="Details" asp-route-id="@activity.Id" class="btn-custom btn-sm">Подробности</a>
                    </div>
                </div>
            }
        </div>
    }
    }
</main>
